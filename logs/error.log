2024-12-09 17:41:18,899 - src.web.app - ERROR - Error visualizing graph: Edges must follow temporal order
Traceback (most recent call last):
  File "/Users/songhaifan/Documents/GitHub/gpt_storytale/src/web/app.py", line 266, in visualize_graph
    model.add_edge(edge['from'], edge['to'])
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/songhaifan/Documents/GitHub/gpt_storytale/src/models/ttng.py", line 62, in add_edge
    raise ValueError("Edges must follow temporal order")
ValueError: Edges must follow temporal order
2024-12-10 14:35:00,371 - src.web.app - ERROR - Error processing node t1_track1: GraphToTextPipeline.map_attributes() takes from 3 to 4 positional arguments but 5 were given
Traceback (most recent call last):
  File "/Users/songhaifan/Documents/GitHub/gpt_storytale/src/web/app.py", line 175, in generate_story
    node_context = pipeline.map_attributes(
        node_id,
    ...<2 lines>...
        node.get('attributes', {})  # Use provided attributes if available
    )
TypeError: GraphToTextPipeline.map_attributes() takes from 3 to 4 positional arguments but 5 were given
2024-12-10 14:53:56,709 - src.web.app - ERROR - Unexpected error: 'source'
Traceback (most recent call last):
  File "/Users/songhaifan/Documents/GitHub/gpt_storytale/src/web/app.py", line 217, in generate_story
    from_node = edge['source']
                ~~~~^^^^^^^^^^
KeyError: 'source'
2024-12-10 14:55:15,131 - src.web.app - ERROR - Unexpected error: 'source'
Traceback (most recent call last):
  File "/Users/songhaifan/Documents/GitHub/gpt_storytale/src/web/app.py", line 217, in generate_story
    from_node = edge['source']
                ~~~~^^^^^^^^^^
KeyError: 'source'
2024-12-10 15:30:49,228 - src.pipeline.graph_to_text - ERROR - Error generating text: list index out of range
2024-12-10 15:30:49,229 - src.web.app - ERROR - Error processing node t1_track1: list index out of range
Traceback (most recent call last):
  File "/Users/songhaifan/Documents/GitHub/gpt_storytale/src/web/app.py", line 191, in generate_story
    text = pipeline.generate_text(
        model.nodes[node_id],
        style=style
    )
  File "/Users/songhaifan/Documents/GitHub/gpt_storytale/src/pipeline/graph_to_text.py", line 79, in generate_text
    user_prompt = self.prompt_manager.create_narrative_prompt(node, prev_node, style_config)
  File "/Users/songhaifan/Documents/GitHub/gpt_storytale/src/pipeline/components/prompt_manager.py", line 54, in create_narrative_prompt
    Primary Topic: {node.attributes.topics[0]}
                    ~~~~~~~~~~~~~~~~~~~~~~^^^
IndexError: list index out of range
